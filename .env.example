# Application Environment
ENV=dev

# Microsoft Entra ID (Azure AD) OAuth2 Configuration
# Get these from Azure Portal > App Registrations > Your App
ENTRA_TENANT_ID=your-tenant-id-here
ENTRA_CLIENT_ID=your-client-id-here
ENTRA_CLIENT_SECRET=your-client-secret-here
ENTRA_REDIRECT_URI=http://localhost:8000/auth/callback

# Session Secret (change to a random secure value in production)
SESSION_SECRET=your-random-session-secret-here

# Database Configuration
# For PostgreSQL: postgresql://user:password@host:port/dbname
DATABASE_URL=postgresql://user:password@localhost/aub_reviews

# Authentication Mode
# Set ENABLE_OAUTH=true to use Entra ID, false to use OTP email auth
ENABLE_OAUTH=false

# OTP Settings (for email-based authentication)
OTP_EXPIRY_MINUTES=10

# SMTP Configuration (for OTP emails)
# Option 1: Mailjet
SMTP_HOST=in-v3.mailjet.com
SMTP_PORT=587
SMTP_USER=your-mailjet-api-key
SMTP_PASS=your-mailjet-secret
SMTP_FROM=noreply@aub.edu.lb

# Option 2: Gmail (uncomment to use)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASS=your-gmail-app-password
# SMTP_FROM=your-email@gmail.com

# Option 3: Custom SMTP (uncomment and configure)
# SMTP_HOST=smtp.your-provider.com
# SMTP_PORT=587
# SMTP_USER=your-username
# SMTP_PASS=your-password
# SMTP_FROM=noreply@aub.edu.lb

# =================================================================
# SETUP INSTRUCTIONS:
# =================================================================
#
# For Entra ID OAuth (ENABLE_OAUTH=true):
# 1. Go to Azure Portal (https://portal.azure.com)
# 2. Navigate to Azure Active Directory > App Registrations
# 3. Create or select your app
# 4. Copy Tenant ID and Client ID from the Overview tab
# 5. Go to Certificates & Secrets tab, create a new client secret
# 6. In the Authentication tab, add Redirect URI: http://localhost:8000/auth/callback
# 7. Configure API Permissions (if needed for roles/groups)
#
# For OTP Email Auth (ENABLE_OAUTH=false):
# 1. Get SMTP credentials from your email provider
# 2. For Resend: https://resend.com → Create account → Get API key
# 3. For Gmail: Enable 2FA → https://myaccount.google.com/apppasswords → Create app password
# 4. Set SMTP_PASS to your API key or app password
# 5. OTP codes are logged to console in dev mode (no SMTP needed)
#
# Database:
# 1. PostgreSQL is recommended for production
# 2. Update DATABASE_URL with your connection string
# 3. App auto-creates tables on startup
#
# Security:
# 1. Generate SESSION_SECRET: python -c "import secrets; print(secrets.token_hex(32))"
# 2. Never commit real credentials to version control
# 3. Use environment variables in production


